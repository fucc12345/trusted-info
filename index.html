<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trusted Info</title>

  <!-- Google Fonts -->
  <style>
    @font-face {
      font-family: 'Roboto';
      src: url('https://fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfBBc4.woff2') format('woff2');
    }
    @font-face {
      font-family: 'GoogleSans';
      src: url('https://fonts.gstatic.com/s/googlesans/v62/4UaRrENHsxJlGDuGo1OIlJfC6l_24rlCK1Yo_Iq2vgCI.woff2') format('woff2');
    }
    @font-face {
      font-family: 'RobotoMedium';
      src: url('https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxK.woff2') format('woff2');
    }
  </style>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; scroll-behavior: smooth; }

    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(to right, #f0f2f5, #dbe4f0);
      color: #333;
      overflow-x: hidden;
    }

    body.dark {
      background: #121212;
      color: #f0f0f0;
    }

    header {
      background: linear-gradient(to right, #1f4037, #99f2c8);
      color: white;
      padding: 2rem 1rem;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      position: relative;
      min-height: 110px; /* Adjusted to ensure space for h1 content */
    }

    header h1 {
      font-size: 2.5rem;
      font-family: 'GoogleSans', sans-serif;
      display: inline-block; /* Critical for text-align:center and inline cursor */
      position: relative;
      line-height: 1.2; /* Helps prevent layout shift */
      /* Old CSS animation properties removed */
    }

    /* Blinking cursor for JS typing animation */
    header h1::after {
      content: '|';
      color: white;
      margin-left: 5px;
      opacity: 1;
      animation: blink-caret 0.75s step-end infinite;
    }

    @keyframes blink-caret {
      from, to { opacity: 1; }
      50% { opacity: 0; }
    }

    /* Style for h1 when typing is complete */
    header h1.typing-done::after {
      opacity: 0; /* Fade out cursor */
      transition: opacity 0.5s ease-out;
    }

    header p {
      font-size: 1.1rem;
      font-family: 'RobotoMedium';
      margin-top: 0.5rem;
    }

    #time-display {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(255, 255, 255, 0.8); /* Slightly more opaque */
      color: #333; /* Ensure readability in light mode */
      padding: 0.4rem 0.7rem;
      border-radius: 8px;
      font-size: 0.95rem;
      z-index: 9999;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    body.dark #time-display {
        background: rgba(0, 0, 0, 0.7);
        color: #f0f0f0;
    }


    .dark-toggle {
      position: fixed;
      top: 10px;
      right: 10px;
      padding: 0.4rem 0.8rem;
      background: #1f4037;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      z-index: 9999;
      transition: background-color 0.3s;
    }
    .dark-toggle:hover {
        background-color: #162d26;
    }


    .info-section {
      padding: 4rem 2rem;
      max-width: 1200px;
      margin: auto;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .info-card {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      transition: transform 0.3s, opacity 0.6s ease-in-out; /* Combined transitions */
      opacity: 0;
      transform: translateY(30px);
    }
    body.dark .info-card {
        background: #1e1e1e;
        box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    }
    body.dark .info-card h3 {
        color: #99f2c8;
    }
    body.dark .info-card p {
        color: #cccccc;
    }


    .info-card h3 {
      color: #1f4037;
      font-family: 'GoogleSans';
      margin-bottom: 0.5rem;
    }

    .info-card p {
      color: #444;
    }

    .blog-description {
      background: #f1f3f5;
      padding: 3rem 1.5rem;
      text-align: center;
    }
    body.dark .blog-description {
        background: #222222;
    }
    body.dark .blog-description h2 {
        color: #99f2c8;
    }
    body.dark .blog-description p {
        color: #dddddd;
    }

    .blog-description h2 {
      color: #1f4037;
      margin-bottom: 1rem;
      font-family: 'GoogleSans';
    }

    .blog-description p {
      max-width: 900px;
      margin: auto;
      line-height: 1.6;
    }

    footer {
      background: #1f1f2e;
      color: white;
      padding: 1.5rem 0;
      text-align: center;
      font-size: 0.9rem;
    }
    body.dark footer {
        background: #0e0e18;
    }

    #ip-location {
      margin-top: 0.8rem;
      font-size: 0.85rem;
      opacity: 0.8;
    }

    /* Scroll Progress Bar */
    #scroll-progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 5px; /* Slightly thicker */
      background: linear-gradient(to right, #1f4037, #4CAF50, #99f2c8); /* Gradient for visual appeal */
      z-index: 9999;
      width: 0%;
      transition: width 0.1s linear; /* Smooth animation for width change */
    }

    /* Scroll-to-top button */
    #scrollTopBtn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      padding: 10px 14px;
      background: #1f4037;
      color: white;
      border: none;
      border-radius: 50%;
      font-size: 18px;
      cursor: pointer;
      display: none;
      z-index: 1000;
      transition: background-color 0.3s, transform 0.3s;
    }
    #scrollTopBtn:hover {
        background-color: #162d26;
        transform: translateY(-2px);
    }


    /* Floating Chat/Feedback Button */
    #feedbackBtn {
      position: fixed;
      bottom: 90px;
      right: 30px;
      background: #f44336;
      color: white;
      padding: 12px 16px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      z-index: 9999;
      transition: background-color 0.3s, transform 0.3s;
    }
     #feedbackBtn:hover {
        background-color: #d32f2f;
        transform: translateY(-2px);
    }


    /* Fade in cards */
    .fade-in {
      opacity: 1 !important;
      transform: translateY(0) !important;
      /* transition defined on .info-card already */
    }
  </style>
</head>
<body>

  <div id="scroll-progress"></div>
  <div id="time-display">--:--</div>
  <button class="dark-toggle" onclick="toggleDarkMode()">Toggle Mode</button>
  <button id="scrollTopBtn" onclick="scrollToTop()">↑</button>
  <button id="feedbackBtn" onclick="location.href='mailto:bhargavtodimela4@gmail.com'">Feedback</button>

  <header>
    <h1>Trusted Info-The Information you can trust</h1> <!-- Initial text for SEO/no-JS -->
    <p id="quote">Loading Quote...</p>
  </header>

  <section class="info-section">
    <div class="info-grid">
      <a href="https://trustedinfo07.blogspot.com/" target="_blank" class="info-card">
        <h3>Sourced from Reputable Sources</h3>
        <p>All content is available on our Blogger. Explore now!</p>
      </a>
      <div class="info-card"><h3>100% Trustable</h3><p>Everything is verified before publishing.</p></div>
      <div class="info-card"><h3>Updated 24/7</h3><p>Stay informed with real-time updates.</p></div>
      <div class="info-card"><h3>Live from 22 May 2025</h3><p>We launch soon! Stay tuned.</p></div>
    </div>
  </section>

  <section class="blog-description">
    <h2>What Our Blog Offers</h2>
    <p>"There's a lot of information out there today, and it can be hard to know what to trust. We're here to give you clear and truthful news. We carefully choose and double-check all our news, using only well-known and respected news organizations from around the world.
On our site, you get more than just headlines. We provide in-depth explanations and information you can count on. This is great for students who need reliable info for school, researchers looking for trustworthy facts, and anyone who's curious and wants to understand things better.
Our main goal is to fight against misleading clickbait and false information. We do this by sharing important news that's based on solid facts, and by helping everyone find real, useful knowledge."</p>
  </section>

  <footer>
    © 2025 Trusted Info. Built by Bhargav.
    <div id="ip-location">Fetching your IP & location...</div>
  </footer>

  <script>
    // Check for saved theme preference on load, before DOMContentLoaded to avoid FOUC
    if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark');
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Typing animation for header h1
      const h1Element = document.querySelector('header h1');
      if (h1Element) {
        const originalText = h1Element.textContent.trim(); // Get text from HTML
        h1Element.textContent = ''; // Clear for typing effect
        let charIndex = 0;
        const typingSpeed = 180; // Milliseconds per character
        const initialDelay = 1000; // 1-second delay before typing starts

        function type() {
          if (charIndex < originalText.length) {
            h1Element.textContent += originalText.charAt(charIndex);
            charIndex++;
            setTimeout(type, typingSpeed);
          } else {
            h1Element.classList.add('typing-done'); // Add class to handle cursor style post-typing
          }
        }
        setTimeout(type, initialDelay); // Start typing after delay
      }

      // Time Display
      const timeDisplayElement = document.getElementById("time-display");
      function updateTime() {
        if (timeDisplayElement) {
            const now = new Date();
            timeDisplayElement.textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }
      }
      updateTime(); // Initial call
      setInterval(updateTime, 1000);


      // Scroll progress bar
      const scrollProgressBar = document.getElementById('scroll-progress');
      if (scrollProgressBar) {
        window.addEventListener('scroll', () => {
          const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
          const scrollTop = window.scrollY || document.documentElement.scrollTop;
          const progress = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
          scrollProgressBar.style.width = progress + '%';
        }, { passive: true });
      }

      // Scroll-to-top button visibility
      const scrollTopBtn = document.getElementById("scrollTopBtn");
      if (scrollTopBtn) {
        window.addEventListener('scroll', () => { // Can combine with above listener if preferred
          scrollTopBtn.style.display = (window.scrollY > 300) ? "block" : "none";
        }, { passive: true });
      }


      // Lazy load animation for info cards
      const infoCards = document.querySelectorAll('.info-card');
      if (infoCards.length > 0) {
        const cardObserver = new IntersectionObserver(entries => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add("fade-in");
              cardObserver.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        infoCards.forEach(card => cardObserver.observe(card));
      }

      // Offline Notification
      window.addEventListener("offline", () => alert("⚠️ You are offline! Some features may not work."));
      // window.addEventListener("online", () => alert("🎉 You are back online!")); // Optional

      // Fetch IP - UNCHANGED AS PER REQUEST
      fetch("https://ipapi.co/json/")
        .then(res => {
            if (!res.ok) {
                throw new Error(`HTTP error! status: ${res.status}`);
            }
            return res.json();
        })
        .then(data => {
          const ipLocationElement = document.getElementById("ip-location");
          if (ipLocationElement) {
            ipLocationElement.textContent =
              `You are from - ${data.ip} (${data.city || 'N/A'}, ${data.region || 'N/A'}, ${data.country_name || 'N/A'})`;
          }
        })
        .catch(error => {
            console.error("Error fetching IP:", error);
            const ipLocationElement = document.getElementById("ip-location");
            if (ipLocationElement) {
                ipLocationElement.textContent = "Could not fetch IP information.";
            }
        });

      // Quote of the Day
      const quoteElement = document.getElementById("quote");
      if (quoteElement) {
        fetch("https://api.quotable.io/random")
          .then(res => {
            if (!res.ok) {
                throw new Error(`HTTP error! status: ${res.status}`);
            }
            return res.json();
          })
          .then(data => {
            quoteElement.textContent = `"${data.content}" — ${data.author}`;
          })
          .catch(error => {
            console.error("Error fetching quote:", error);
            quoteElement.textContent = "Welcome to Trusted Info!";
          });
      }
    }); // End of DOMContentLoaded

    // Dark mode toggle function (global scope)
    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      if (document.body.classList.contains('dark')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
    }

    // ScrollToTop function (global scope)
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>
</html>
